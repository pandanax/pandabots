# RAG База знаний для Mandala Bot Advanced

Эта папка содержит базу знаний для бота создания персональных мандал.

## Структура файлов

- `m1` - Основные знания о мандалах (виды, значение, методы расчёта)
- `m2` - Алгоритм рисования мандалы и правила геометрии
- `knowledge.txt` - Объединённый файл (используется в workflow)

## Путь на сервере

```
/home/node/.n8n-files/rags/mandala-bot-advanced/knowledge.txt
```

## Как обновить базу знаний

### 1. Локально обновить файлы

Отредактируйте `m1` или `m2` по необходимости.

### 2. Пересобрать knowledge.txt

```bash
cat rags/mandala-bot-advanced/m1 rags/mandala-bot-advanced/m2 > rags/mandala-bot-advanced/knowledge.txt
```

### 3. Загрузить на сервер

```bash
# Скопировать на сервер
scp rags/mandala-bot-advanced/knowledge.txt ubuntu@84.252.137.46:/tmp/

# Переместить в рабочую директорию
ssh ubuntu@84.252.137.46 "sudo mv /tmp/knowledge.txt /home/node/.n8n-files/rags/mandala-bot-advanced/ && sudo chown 1000:1000 /home/node/.n8n-files/rags/mandala-bot-advanced/knowledge.txt"
```

### 4. Перезапустить workflow в n8n

Workflow автоматически подхватит обновлённую базу знаний при следующем запуске.

## Что добавлять в базу

- Информацию о типах мандал
- Методы расчёта (нумерологические, астрологические)
- Значения чисел и цветов
- Геометрические правила построения
- Примеры готовых мандал
- Инструкции по медитации с мандалами

## Формат

Простой текст, разделы можно отделять пустыми строками. Бот использует эту информацию как контекст для генерации ответов через DeepSeek AI.
